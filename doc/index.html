<link href="keyboard.css" rel="stylesheet">
<link href="jQuery-ui.css" rel="stylesheet">
<textarea id="keyboard" placeholder="Enter Text..."></textarea>
<textarea id="ttt" placeholder="result"></textarea>
<div id="container"></div>
<style type="text/css">
   textarea {
     width         : 25%;
     height        : 25%;
   }
</style>
<script>
let shift='none'
document.getElementById('keyboard').addEventListener("keydown",e=>{
    if(e.key==="Shift"){
        if(shift==="none")
          shift=e.code==="ShiftLeft" ? 'left' : 'right'
        else if(shift==="left")
          shift=e.code==="ShiftLeft" ? 'none' : 'right'
        else if(shift==="right")
          shift=e.code==="ShiftLeft" ? 'left' : 'none'
        
        reload()

    } else if(Object.keys(data[shift]).includes(e.code)){
        document.getElementById('ttt').value+=data[shift][e.code]
    } else if(e.key==="Backspace"){
        document.getElementById('ttt').value=document.getElementById('ttt').value.slice(0,-1)
    }
})
const template= (text,cla="") =>{return `<button role="button" type="button" aria-disabled="false" tabindex="-1" class="ui-keyboard-button ui-keyboard-96 ui-state-default ui-corner-all ${cla}">
  <span class="ui-keyboard-text">
  ${text}</span>
</button>
`}
function reload(){
    var div = document.createElement('div');
    const map=Object.values(data[shift]).map(template)
    map.splice(13,0,'<br class="ui-keyboard-button-endrow">')
    map.splice(25,0,'<br class="ui-keyboard-button-endrow">')
    map.splice(36,0,'<br class="ui-keyboard-button-endrow">')
    map.splice(37,0,template('左Shift',shift ==="left" ? "ui-state-active" : ""))
    map.splice(48,0,template('右Shift',shift ==="right" ? "ui-state-active" : ""))
    map.forEach(element => {
        div.innerHTML += element.trim();
    });
    document.getElementById('container').innerHTML=div.innerHTML;

}
window.onload=reload
const data={
none:
{
    Digit1        : "！",
    Digit2        : "”",
    Digit3        : "＃",
    Digit4        : "＄",
    Digit5        : "％",
    Digit6        : "＆",
    Digit7        : "’",
    Digit8        : "（",
    Digit9        : "）",
    Digit0        : "『",
    Minus         : "＝",
    Equal         : "～",
    IntlYen       : "｜",
    KeyQ          : "。",
    KeyW          : "か",
    KeyE          : "た",
    KeyR          : "こ",
    KeyT          : "さ",
    KeyY          : "ら",
    KeyU          : "ち",
    KeyI          : "く",
    KeyO          : "つ",
    KeyP          : "，",
    BracketLeft   : "、",
    KeyA          : "う",
    KeyS          : "し",
    KeyD          : "て",
    KeyF          : "け",
    KeyG          : "せ",
    KeyH          : "は",
    KeyJ          : "と",
    KeyK          : "き",
    KeyL          : "い",
    Semicolon     : "ん",
    KeyZ          : "．",
    KeyX          : "ひ",
    KeyC          : "す",
    KeyV          : "ふ",
    KeyB          : "へ",
    KeyN          : "め",
    KeyM          : "そ",
    Comma         : "ね",
    Period        : "ほ",
    Slash         : "・",
},

left:
{
    Digit1        : "？",
    Digit2        : "／",
    Digit3        : "～",
    Digit4        : "「",
    Digit5        : "」",
    Digit6        : "［",
    Digit7        : "］",
    Digit8        : "（",
    Digit9        : "）",
    Digit0        : "『",
    Minus         : "』",
    Equal         : "～",
    IntlYen       : "｜",
    KeyQ          : "ぁ",
    KeyW          : "え",
    KeyE          : "り",
    KeyR          : "ゃ",
    KeyT          : "れ",
    KeyY          : "ぱ",
    KeyU          : "ぢ",
    KeyI          : "ぐ",
    KeyO          : "づ",
    KeyP          : "ぴ",
    BracketLeft   : "",
    KeyA          : "を",
    KeyS          : "あ",
    KeyD          : "な",
    KeyF          : "ゅ",
    KeyG          : "も",
    KeyH          : "ば",
    KeyJ          : "ど",
    KeyK          : "ぎ",
    KeyL          : "ぽ",
    Semicolon     : "",
    KeyZ          : "ぅ",
    KeyX          : "ー",
    KeyC          : "ろ",
    KeyV          : "や",
    KeyB          : "ぃ",
    KeyN          : "ぷ",
    KeyM          : "ぞ",
    Comma         : "ぽ",
    Period        : "ぼ",
    Slash         : "゛",

},
right:{
    Digit1        : "１",
    Digit2        : "２",
    Digit3        : "３",
    Digit4        : "４",
    Digit5        : "５",
    Digit6        : "６",
    Digit7        : "７",
    Digit8        : "８",
    Digit9        : "９",
    Digit0        : "０",
    Minus         : "－",
    Equal         : "＾",
    IntlYen       : "￥",
    KeyQ          : "゜",
    KeyW          : "が",
    KeyE          : "だ",
    KeyR          : "ご",
    KeyT          : "ざ",
    KeyY          : "よ",
    KeyU          : "に",
    KeyI          : "る",
    KeyO          : "ま",
    KeyP          : "ぇ",
    BracketLeft   : "",
    KeyA          : "ゔ",
    KeyS          : "じ",
    KeyD          : "で",
    KeyF          : "げ",
    KeyG          : "ぜ",
    KeyH          : "み",
    KeyJ          : "お",
    KeyK          : "の",
    KeyL          : "ょ",
    Semicolon     : "っ",
    KeyZ          : "",
    KeyX          : "び",
    KeyC          : "ず",
    KeyV          : "ぶ",
    KeyB          : "べ",
    KeyN          : "ぬ",
    KeyM          : "ゆ",
    Comma         : "む",
    Period        : "わ",
    Slash         : "ぉ",
},



}

</script>
